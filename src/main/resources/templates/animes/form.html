<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${anime.id == null} ? 'Cadastrar anime' : 'Editar anime'"></title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<header class="page-header">
    <div class="container header-layout">
        <div class="header-text">
            <h1 th:text="${anime.id == null} ? 'Cadastrar anime' : 'Editar anime'"></h1>
            <p>Preencha os dados abaixo e mantenha sua lista sempre atualizada.</p>
        </div>
        <button id="theme-toggle" class="theme-toggle" type="button" aria-pressed="false" title="Alternar tema">
            <span class="theme-toggle-icon" aria-hidden="true">ðŸŒ™</span>
            <span class="theme-toggle-text">Modo escuro</span>
        </button>
    </div>
</header>
<main class="container">
    <section class="card">
        <form class="anime-form" th:action="${anime.id} != null ? @{/animes/{id}/update(id=${anime.id})} : @{/animes}" th:object="${anime}" method="post">
            <div class="form-group">
                <label for="titulo">TÃ­tulo</label>
                <input id="titulo" type="text" th:field="*{titulo}" placeholder="Ex: Fullmetal Alchemist" required>
            </div>
            <div class="form-group">
                <label for="categoria">Categoria</label>
                <select id="categoria" th:field="*{categoria}">
                    <option value="" th:if="${anime.categoria == null}" disabled selected>Selecione</option>
                    <option th:each="categoria : ${categorias}" th:value="${categoria}" th:text="${categoria}"></option>
                </select>
            </div>
            <div class="form-group">
                <label for="anoLancamento">Ano de lanÃ§amento</label>
                <input id="anoLancamento" type="date" th:field="*{anoLancamento}">
            </div>
            <div class="form-group">
                <label for="numEpisodios">NÃºmero de episÃ³dios</label>
                <input id="numEpisodios" type="number" min="1" th:field="*{numEpisodios}" placeholder="Ex: 24">
            </div>
            <div class="form-actions">
                <button type="submit" class="button">Salvar</button>
                <a class="button secondary" th:href="@{/animes}">Cancelar</a>
            </div>
        </form>
    </section>
</main>
<footer class="page-footer">
    <div class="container">
        <p>AnimeAI &mdash; Powered by Spring Boot e Thymeleaf.</p>
    </div>
</footer>
<script th:src="@{/js/theme.js}"></script>
</body>
</html>
